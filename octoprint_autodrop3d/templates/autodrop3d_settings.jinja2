<div class="well">
    <h3><a href="#" target="_blank" data-bind="attr: {href: get_autodrop_url}"><img alt="{{ _('Autodrop3D') }}" src="/plugin/autodrop3d/static/img/autodrop-logo.png"/></a></h3>
    <small>Click above to access Autodrop3D to get the device settings to fill in below.</small>
</div>
<h4>Device Settings</h4>
<form class="form-horizontal">
    <div class="control-group">
        <label class="control-label">{{ _('ID') }}</label>
        <div class="controls">
            <input type="text" class="input-block" data-bind="value: settingsViewModel.settings.plugins.autodrop3d.name"/>
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">{{ _('PrinterAPIkey') }}</label>
        <div class="controls">
            <input type="text" class="input-block" data-bind="value: settingsViewModel.settings.plugins.autodrop3d.key"/>
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">{{ _('Auto Eject Active') }}</label>
        <div class="controls">
            <input class="input-checkbox" type="checkbox" data-bind="checked: settingsViewModel.settings.plugins.autodrop3d.auto_eject_active"/>
        </div>
    </div>
    <div class="row-fluid"><small><a href="#" class="muted" data-bind="toggleContent: { class: 'fa-caret-right fa-caret-down', container: '#settings_plugin_autodrop3d .hide' }"><i class="fas fa-caret-right"></i> Advanced options</a></small></div>
    <div class="row-fluid hide">
        <div class="control-group">
            <label class="control-label">{{ _('Server URL') }}</label>
            <div class="controls">
                <span class="input-append">
                    <input type="text" class="input-xlarge" style="width: 420px;" data-bind="value: settingsViewModel.settings.plugins.autodrop3d.server"/><span class="btn" data-bind="click: get_default_server_url" title="Reset to Default"><i class="fas fa-history" data-bind="css: {'fa-spin': getting_url()}"></i></span>
                </span>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">{{ _('Polling Interval') }}</label>
            <div class="controls">
                <input type="number" min="10" class="input-small" data-bind="value: settingsViewModel.settings.plugins.autodrop3d.polling_interval"/>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">{{ _('Write File on Complete') }}</label>
            <div class="controls">
                <input class="input-checkbox" type="checkbox" data-bind="checked: settingsViewModel.settings.plugins.autodrop3d.notify_complete"/>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">{{ _('Commands to Monitor') }}</label>
            <div class="controls">
                <div class="input-append input-prepend"><span class="add-on">@</span><input type="text" class="input-block-level" placeholder="Enter command to add..." data-bind="textInput: new_at_command"/><button class="btn btn-primary" data-bind="click: add_at_command, disable: new_at_command().length == 0"><i class="fas fa-plus"></i></button></div>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label"></label>
            <div class="controls">
                <!-- ko foreach: settingsViewModel.settings.plugins.autodrop3d.at_commands_to_monitor -->
                <div class="row-fluid">
                    <div class="span5" data-bind="text: $data.command"></div><div class="span2"><div class="btn-group"><button class="btn btn-mini" data-bind="click: $parent.edit_at_command"><i class="fa fa-pencil"></i></button><button class="btn btn-mini btn-danger" data-bind="click: $parent.remove_at_command"><i class="fa fa-trash-o"></i></button></div></div>
                </div>
                <!-- /ko -->
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">{{ _('Custom End Script') }}</label>
            <div class="controls">
                <textarea rows="10" class="input-block-level" data-bind="value: settingsViewModel.settings.plugins.autodrop3d.custom_script"></textarea>
            </div>
        </div>
    </div>
</form>
